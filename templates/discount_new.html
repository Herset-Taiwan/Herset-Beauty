<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>æ–°å¢æŠ˜æ‰£ç¢¼ - HERSET BEAUTY</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
  <style>
    :root{
      --pink:#e91e63;
      --pink-100:#ffe4ed;
      --ink:#111827;
      --muted:#6b7280;
      --card:#fff;
      --bg:#f6f7f9;
      --border:#e5e7eb;
      --shadow:0 8px 20px rgba(0,0,0,.06);
      --radius:16px;
      --radius-sm:12px;
    }
    html,body{background:var(--bg); color:var(--ink); font-family:"Segoe UI","Noto Sans TC",system-ui,sans-serif; margin:0}
    .wrap{max-width:900px; margin:34px auto 80px; padding:0 20px}

    /* header */
    .header{display:flex; align-items:center; justify-content:space-between; margin-bottom:16px}
    .title{font-size:28px; font-weight:800; letter-spacing:.3px; display:flex; align-items:center; gap:10px}
    .subtitle{color:var(--muted); margin-top:6px}
    .back{display:inline-flex; align-items:center; gap:8px; text-decoration:none; color:#fff; background:#9ca3af; padding:9px 14px; border-radius:10px; box-shadow:var(--shadow)}
    .back:hover{filter:brightness(.95)}

    /* card form */
    .card{
      background:var(--card); border:1px solid var(--border); border-radius:var(--radius);
      box-shadow:var(--shadow); padding:22px; position:relative; overflow:hidden;
    }
    .card:before{
      content:""; position:absolute; inset:auto -30px -30px auto; width:180px; height:180px;
      background:conic-gradient(from 180deg at 50% 50%, #fff0, var(--pink-100));
      border-radius:50%; filter:blur(.2px); transform:rotate(-12deg); pointer-events:none;
    }
    .card h3{margin:0 0 14px; font-size:20px}
    .grid{display:grid; grid-template-columns:1fr; gap:16px}
    @media(min-width:720px){ .grid{grid-template-columns:1fr 1fr} }
    .field{display:flex; flex-direction:column; gap:8px}
    .field label{font-weight:700}
    .tip{font-size:12px; color:var(--muted)}
    input[type="text"], input[type="number"], input[type="datetime-local"], select, textarea{
      width:100%; padding:12px 12px; border:1px solid var(--border); border-radius:10px; background:#fff; color:var(--ink); font-size:15px; outline:none;
    }
    textarea{resize:vertical; min-height:90px}
    .inline{display:flex; gap:16px; align-items:center; flex-wrap:wrap}
    .switch{display:flex; align-items:center; gap:8px}

    /* tags for quick context */
    .tags{display:flex; gap:8px; flex-wrap:wrap; margin-bottom:8px}
    .tag{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; background:#f3f4f6; color:#111827; font-size:12px; font-weight:700}

    /* toolbar */
    .toolbar{display:flex; gap:10px; margin-top:18px; flex-wrap:wrap}
    .btn{
      display:inline-flex; align-items:center; gap:8px; border:none; cursor:pointer; font-weight:800;
      padding:11px 18px; border-radius:12px; text-decoration:none;
    }
    .btn-primary{background:var(--pink); color:#fff; box-shadow:var(--shadow)}
    .btn-primary:hover{filter:brightness(.98)}
    .btn-gray{background:#eef2f7; color:#111827}
    .btn-gray:hover{filter:brightness(.96)}
    .btn-ghost{background:transparent; color:var(--pink); border:1px solid var(--pink)}
    .req{color:var(--pink); font-weight:900}

    /* small helper row */
    .row{display:grid; grid-template-columns:1fr; gap:16px}
    @media(min-width:720px){ .row{grid-template-columns:1fr 1fr 1fr} }

    /* subtle section title */
    .sec-title{margin:6px 0 2px; color:var(--muted); font-weight:800; font-size:12px; letter-spacing:1px; text-transform:uppercase}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="header">
      <div>
        <div class="title">â• æ–°å¢æŠ˜æ‰£ç¢¼</div>
        <div class="subtitle">å»ºç«‹é‡‘é¡æŠ˜æŠµæˆ–ç™¾åˆ†æ¯”æŠ˜æ‰£ï¼Œå¯è¨­å®šé‡‘é¡é–€æª»ã€æœ‰æ•ˆæœŸé–“èˆ‡ä½¿ç”¨ä¸Šé™ã€‚</div>
      </div>
      <a class="back" href="/admin0363/features">â† è¿”å›åŠŸèƒ½ç®¡ç†</a>
    </div>

    <form method="post" action="/admin0363/discounts/new" class="card">
      <h3>æŠ˜æ‰£ç¢¼åŸºæœ¬è³‡æ–™</h3>

      <div class="tags">
        <span class="tag">æ”¯æ´å…©ç¨®ï¼šé‡‘é¡ / ç™¾åˆ†æ¯”</span>
        <span class="tag">å¯è¨­æœ€ä½é‡‘é¡èˆ‡æœŸé–“</span>
        <span class="tag">æ”¯æ´ç¸½æ¬¡æ•¸èˆ‡æ¯äººæ¬¡æ•¸é™åˆ¶</span>
      </div>

      <div class="grid">
        <div class="field">
          <label>æŠ˜æ‰£ç¢¼ <span class="req">*</span></label>
          <input name="code" placeholder="ä¾‹å¦‚ï¼šWELCOME100" required />
          <div class="tip">å»ºè­°ä½¿ç”¨è‹±æ–‡å¤§å¯«èˆ‡æ•¸å­—ï¼Œç³»çµ±æœƒè‡ªå‹•å­˜æˆå¤§å¯«ã€‚</div>
        </div>

        <div class="field">
          <label>æŠ˜æ‰£é¡å‹ <span class="req">*</span></label>
          <select name="type">
            <option value="amount">é‡‘é¡ï¼ˆ$ï¼‰</option>
            <option value="percent">ç™¾åˆ†æ¯”ï¼ˆ%ï¼‰</option>
          </select>
        </div>

        <div class="field">
          <label>æŠ˜æ‰£æ•¸å€¼ <span class="req">*</span></label>
          <input name="value" type="number" step="0.01" min="0" placeholder="ä¾‹å¦‚ï¼š100 æˆ– 15ï¼ˆ%ï¼‰" required />
          <div class="tip">é¸é‡‘é¡æ™‚å¡«ã€ŒæŠ˜å¤šå°‘å…ƒã€ï¼›é¸ç™¾åˆ†æ¯”æ™‚å¡«ã€ŒæŠ˜æ‰£ç™¾åˆ†æ¯”ã€ã€‚</div>
        </div>

        <div class="field">
          <label>æœ€ä½é‡‘é¡</label>
          <input name="min_order_amt" type="number" step="0.01" min="0" placeholder="æœªå¡«è¡¨ç¤ºä¸é™åˆ¶" />
        </div>
      </div>

      <div class="sec-title">æœ‰æ•ˆæœŸé–“ï¼ˆå¯é¸ï¼‰</div>
      <div class="grid">
        <div class="field">
          <label>é–‹å§‹æ™‚é–“</label>
          <input name="start_at" type="datetime-local" />
        </div>
        <div class="field">
          <label>åˆ°æœŸæ™‚é–“</label>
          <input name="expires_at" type="datetime-local" />
        </div>
        <div class="field switch">
          <label style="margin-right:6px;">ç‹€æ…‹</label>
          <label class="inline"><input type="checkbox" name="is_active" checked /> å•Ÿç”¨</label>
        </div>
      </div>

      <div class="sec-title">ä½¿ç”¨æ¬¡æ•¸é™åˆ¶ï¼ˆå¯é¸ï¼‰</div>
      <div class="row">
        <div class="field">
          <label>ç¸½ä½¿ç”¨ä¸Šé™</label>
          <input name="usage_limit" type="number" min="1" placeholder="ç©ºç™½ = ä¸é™" />
        </div>
        <div class="field">
          <label>æ¯æœƒå“¡ä¸Šé™</label>
          <input name="per_user_limit" type="number" min="1" placeholder="ç©ºç™½ = ä¸é™" />
        </div>
        <div class="field">
          <label>å‚™è¨»</label>
          <input name="note" placeholder="ä¾‹å¦‚ï¼šæ–°å®¢åˆ¸ã€å…§éƒ¨æ´»å‹•â€¦" />
        </div>
      </div>

      <div class="toolbar">
        <button type="submit" class="btn btn-primary">ğŸ’¾ å„²å­˜æŠ˜æ‰£ç¢¼</button>
        <a href="/admin0363/features" class="btn btn-gray">å–æ¶ˆ</a>
        <!-- è‹¥æƒ³å…ˆå»ºç«‹å¾ŒçºŒå†åœç”¨ï¼Œå¯ä½¿ç”¨ä¸‹åˆ—ç´”å¤–è§€æŒ‰éˆ•ï¼ˆéå¿…è¦ï¼‰
        <button type="button" class="btn btn-ghost" onclick="document.querySelector('input[name=is_active]').checked=false">å…ˆå»ºç«‹ä½†åœç”¨</button>
        -->
      </div>
    </form>
  </div>

  <script>
    // å°‡æŠ˜æ‰£ç¢¼è‡ªå‹•è½‰å¤§å¯«ï¼ˆé¿å…å¤§å°å¯«ä¸ä¸€è‡´ï¼‰
    document.addEventListener("DOMContentLoaded", function(){
      const code = document.querySelector('input[name="code"]');
      if (!code) return;
      code.addEventListener('input', () => { code.value = code.value.toUpperCase(); });
    });
  </script>
</body>
</html>


<h2>訂單管理系統</h2>

<script>
  let allOrders = {{ orders | tojson | safe }};
  let currentPage = 1;
  let filteredOrders = allOrders;
</script>
<div style="margin-bottom: 15px; display: flex; flex-wrap: wrap; align-items: center; gap: 10px;">
  <label>狀態：</label>
  <select id="statusFilter" onchange="filterOrders()">
    <option value="all">全部</option>
    <option value="unshipped">未出貨</option>
    <option value="shipped">已出貨</option>
  </select>

  <label>搜尋訂單：</label>
  <input type="text" id="orderSearch" oninput="filterOrders()" placeholder="輸入訂單編號、會員帳號、姓名">

  <label>每頁顯示：</label>
  <select id="pageSizeSelect" onchange="filterOrders()">
    <option value="5">5</option>
    <option value="10" selected>10</option>
    <option value="20">20</option>
    <option value="50">50</option>
  </select>
</div>

<div id="order-list"></div>
<div id="order-pagination" class="pagination" style="margin-top: 10px; text-align:center;"></div>

<!-- 自訂的刪除確認視窗 -->
<div id="deleteModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:#00000088; z-index:1000; justify-content:center; align-items:center;">
  <div style="background:white; padding:30px; border-radius:12px; max-width:400px; width:90%;">
    <h3 style="margin-top:0;">⚠️ 確認刪除訂單</h3>
    <p>您確定要刪除這筆訂單嗎？請輸入管理員帳號與密碼確認。</p>
    <input id="adminUser" placeholder="管理員帳號" style="width:100%; padding:6px; margin-top:10px;"><br>
    <input id="adminPass" type="password" placeholder="管理員密碼" style="width:100%; padding:6px; margin-top:10px;"><br>
    <div style="margin-top:15px; text-align:right;">
      <button onclick="closeDeleteDialog()" style="margin-right:10px;">取消</button>
      <button onclick="confirmDelete()" style="background:#e91e63; color:white; border:none; padding:6px 12px; border-radius:6px; cursor:pointer;">確認刪除</button>
    </div>
    <input type="hidden" id="deleteOrderId">
  </div>
</div>